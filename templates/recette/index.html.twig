 {# ? Partie : Gestion des recettes #}
 
 {% extends 'base.html.twig' %}
   
     {% block metaTitle %}
         " Liste des recettes "
     {% endblock %}   

     {% block title %}
         Liste des recettes
     {% endblock %}
         
     {% block body %}

         <main class="Form"> 

             {# ! todo: le bouton supprimer recette ne fonctionne pas. a corriger #}

             {# <div class="text-center p-4 p-md-5 mb-4 text-white rounded bg-dark"> #}
             <div class="text-center rounded ">                               
   
                 <div class="col-md-12">

                     {% if is_granted ("ROLE_ADMIN") %}    

                         <section>     
     
                             <h1> Liste des recettes </h1>
                             
                                 <hr/>

                                     <p> 
                                         <em> Consulter et gÃ©rer vos recettes ! </em> ðŸ“‡
                                     </p>

                                 <hr/>                
   
                         </section>  
                   
                     {% else %}

                         <section>     
     
                             <h1> Liste des recettes </h1>
                             
                                 <hr/>

                                     <p> 
                                         <em> Consultez notre liste de recettes! </em> ðŸ“‡
                                     </p>

                                 <hr/>                
   
                         </section> 

                     {% endif %}

                     {# ! todo: Ne marche pas encore. Voir comment on implÃ©mente la fonctionnalitÃ© #}
                 
                     {# ? Partie: Barre de recherche #}
       
                     <form> 

                         <kbd> WPS: la barre de recherche ne marche pas encore </kbd>

                         <input class="form-control border-dark text-center"
                                 type="text" 
                                 placeholder="Entrer un mot clÃ© ou le nom d'une recette (Exemple: Salade, Pate, Tiramisu, Mojito, etc...)"
                                 aria-label="Search">
                    
                     </form>

                     <br/>

                     {# ? Partie: Liste des recettes. #}

                     <article class="flex-container">

                         <div class="p-4 text-white rounded bg-dark">

                             <div class="row">

                                 {% for recette in recettes %}

                                     <div class="col-6 col-sm-3 cardRecette">

                                         <div class="carteBg1 card mb-3">

                                             <article class="card-body">

                                                 {# ? Partie: Titre de la recette #}

                                                 <section>

                                                     <hr class="homeDivider3"/>

                                                         <h2 class="card-title mb-3 rounded"> {{recette.name}} </h2>
                                                         {# <h6 class="card-subtitle mb-2 text-muted"> Card subtitle </h6> #}

                                                     <hr class="homeDivider4"/>   

                                                 </section> 

                                                 {# ? Partie: Image de la recette #}     

                                                 <section> 

                                                     {% if recette.image %}

                                                         <figure>
                                                             <img src="{{asset('uploads/recettes/'~ recette.image)}}" 
                                                                 style="max-width: 20vw; max-height:20vh;"
                                                                 alt="Image de la recette"/>
                                                         </figure>

                                                     {% else  %}
                                                         
                                                         <figure>
                                                             <img id="avatarUser" src="{{asset('Images/JunkFood.jpg')}}" alt="Logo du site" >
                                                         </figure>

                                                     {% endif %}           

                                                 </section>

                                                 {# ? Partie: Note de la recette #}     

                                                 {# <section> 

                                                     <p class="card-text"> Note de la recette </p>

                                                 </section> #}

                                             </article>

                                             {% if is_granted('ROLE_ADMIN') %}

                                                 <section class="btn-group-vertical col-12">

                                                     <a href="{{path("recette_show", {'id': recette.id})}}" type="submit" class="btn btn-success bg-gradient">                                
                                                         Voir ðŸ‘€
                                                     </a>  
                                                
                                                     <a href="{{path("recette_edit", {'id': recette.id})}}" class="btn btn-secondary bg-gradient"> 
                                                         Modifier ðŸ”§
                                                     </a>

                                                 </section>   

                                             {% else %}

                                                 <section class="btn col-12">

                                                     <a href="{{path("recette_show", {'id': recette.id})}}" type="submit" class="btn btn-success btn-lg col-12">                                
                                                         Voir la recette ðŸ‘€
                                                     </a>  

                                                 </section>   
                             
                                             {% endif %}

                                         </div>     

                                     </div>        

                                 {% endfor %}

                             </div>

                         </div>

                     </article> 

                     <hr/> 

                 </div>    

             </div>         

         </main>
 
     {% endblock %}

              
              